<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>密码登录</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="main">
        <div class="error"></div>
        <div class="top-title">信用钱包欢迎您</div>
        <div class="main-style">
            <input type="text" class="mobile inp main-style-input"  placeholder="请输入手机号">
            <div class="cha fr">&Chi;</div>
        </div>
        <div class="main-style">
            <input type="password" class=" fl inp main-style-input password"  placeholder="请输入密码">
            <div class="ico ico-close fr"></div>
        </div>
        <div class="kong"></div>
        <div class="btn">登录</div>
        <div class="bottom">
            <a href="register.html" class="bleft fl">立即注册</a>
            <a href="retrievePassword.html" class="bright fr">忘记密码</a>
        </div>
    </div>
</body>

<script src="./js/common.js"></script>
<script>
    let password = document.getElementsByClassName("password")[0]
    let ico = document.querySelector(".ico")
    let submit = document.querySelector(".bnt")
    //判断密码是6-20位字符串
    var pReg = /^([a-z0-9\.\@\!\#\$\%\^\&\*\(\)]){6,20}$/

    //显示隐藏密码
    // js 移出class样式
    // elemt.classList.add("类名")
    // ico.classList.remove("ico-open")
    // js 

    // function passwordReg(){
    //     if(password.value == "" || !pReg.test(password)){
    //         error.style.display = "block"
    //         error.innerHTML = "密码不正确"
    //     }
    // }

    ico.addEventListener("click",function(){
        let iceClose = document.querySelector(".ico-close")
        if(iceClose != null){
            ico.classList.add("ico-open")
            ico.classList.remove("ico-close")
            password.type = "text"
            iceClose  = null;
        }else{
            ico.classList.remove("ico-open")
            ico.classList.add("ico-close")
            password.type = "password"
        }
    })
    submit.onclick = function(){
            if(mobile.value == "" || password.value == ""){
                error.style.display = "block"
                error.innerHTML = "用户名或密码不正确"
                return
            }
    }

</script>
</html>